<app-header title="Control de cajas" [showMenu]="true" />

<ion-content [fullscreen]="true" class="ion-padding">

  <ion-list>

    <ion-item>

      <select-ruta (onEmitRuta)="onChangeRuta($event)" />

    </ion-item>

    <ion-item>
      <ion-datetime-button datetime="datetimeCaja"></ion-datetime-button>
      <ion-modal #modalCaja [keepContentsMounted]="true">
        <ng-template>
          <ion-datetime
            mode="ios"
            id="datetimeCaja"
            #datetimeCaja
            presentation="date"
            (ionChange)="onChangeDay($event)"
            locale="es-GT">
            <span slot="title">Selecciona una fecha</span>
            <ion-buttons slot="buttons">
              <ion-button color="primary" (click)="modalCaja.dismiss()">Cancelar</ion-button>
              <ion-button color="primary" (click)="datetimeCaja.confirm()">Confirmar</ion-button>
            </ion-buttons>
          </ion-datetime>
        </ng-template>
      </ion-modal>
    </ion-item>

    <ion-item>
      <ion-button (click)="searchCaja()">
        Buscar
      </ion-button>
    </ion-item>

  </ion-list>

  <ion-card *ngIf="!!currentCaja">

    <ion-card-header>
      <ion-card-title>{{ruta.nombre | titlecase}}</ion-card-title>
      <ion-card-subtitle>{{currentCaja.fecha}}</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>

      <ion-text>
        <h2><strong>Base: </strong>{{currentCaja.base | currency:'USD':'symbol':'':'en'}}</h2>
      </ion-text>

      <ion-text>
        <h2><strong>Pretendido: </strong>{{currentCaja.pretendido | currency:'USD':'symbol':'':'en'}}</h2>
      </ion-text>

      <ion-text>
        <h2><strong>Clientes: </strong>{{currentCaja.total_clientes}}</h2>
      </ion-text>

      <ion-text>
        <h2><strong>Cobro: </strong>{{currentCaja.cobro | currency:'USD':'symbol':'':'en'}}</h2>
      </ion-text>

      <ion-text>
        <h2><strong>Prestamo: </strong>{{currentCaja.prestamo | currency:'USD':'symbol':'':'en'}}</h2>
      </ion-text>

      <ion-text>
        <h2><strong>Oficina: </strong>{{currentCaja.gasto | currency:'USD':'symbol':'':'en'}}</h2>
      </ion-text>

      <ion-text>
        <h2><strong>Retiro: </strong>{{currentCaja.retiro | currency:'USD':'symbol':'':'en'}}</h2>
      </ion-text>

      <ion-text>
        <h2><strong>Inversion: </strong>{{currentCaja.inversion | currency:'USD':'symbol':'':'en'}}</h2>
      </ion-text>

      <ion-text>
        <h2><strong>Caja Final: </strong>{{currentCaja.caja_final | currency:'USD':'symbol':'':'en'}}</h2>
      </ion-text>

    </ion-card-content>

  </ion-card>

</ion-content>
